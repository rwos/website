<!doctype html>
<html lang="en">
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <meta name="Viewport" content="width=device-width,initial-scale=1,maximum-scale=1.0">
    <meta name="Description" content="Homepage of Richard Wossal. Weeks of hacking can save you hours of planning.">
    <title>Continued | r-wos.org</title>
    <style>

.terminal .clipboard {
 position:absolute;
 bottom:0;
 left:0;
 opacity:0.01;
 filter:alpha(opacity = 0.01);
 filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0.01);
 width:2px;
}
.cmd > .clipboard {
 position:fixed;
}
.terminal {
 padding:10px;
 position:relative;
 overflow:hidden;
}
.cmd {
 padding:0;
 margin:0;
 height:1.3em;
}
.terminal .terminal-output div div,
.terminal .prompt {
 display:block;
 line-height:14px;
 height:16px;
}
.terminal {
 font-family:FreeMono,monospace;
 color:#33dd33;
 background-color:#000f00;
 font-size:14px;
 line-height:16px;
}
.terminal .terminal-output div span {
 display:inline-block;
}
.terminal .cmd span {
 display:inline-block;
}
.terminal .cmd span.inverted {
 background-color:#33dd33;
 color:#000f00;
}
.terminal .terminal-output div div::-moz-selection,
.terminal .terminal-output div span::-moz-selection {
 background-color:#33dd33;
 color:#000f00;
}
.terminal .terminal-output div div::selection,
.terminal .terminal-output div span::selection,
.terminal .cmd > span::selection,
.terminal .prompt span::selection {
 background-color:#33dd33;
 color:#000f00;
}
.terminal .terminal-output div.error,
.terminal .terminal-output div.error div {
 color:#33dd33;
}
.tilda {
 position:fixed;
 top:0;
 left:0;
 width:100%;
 z-index:1100;
}
.clear {
 clear:both;
}
.terminal a {
 color:#ccff66;
}
.terminal a:hover {
 color:#ccff66;
}
body {
 font-family:Helvetica,Arial,sans-serif;
 font-size:11pt;
 line-height:1.5em;
 padding:0.5em;
 margin:0em;
 color:#33dd33;
 background-color:#000f00;
}
main {
 max-width:50em;
 margin-left:auto;
 margin-right:auto;
}
#footer,
#footer * {
 text-align:center;
 font-size:9pt;
 color:#226622;
}
#footer > a {
 color:#226622;
 text-decoration:underline;
}
h1,
h2,
h3,
h4 {
 color:#66ff66;
 line-height:1em;
 text-align:center !important;
 font-family:Georgia,serif;
 font-weight:normal;
}
a {
 color:#ccff66;
 text-decoration:none;
}
a img {
 display:inline-block;
 border:none;
}
a:hover {
 color:#000f00 ! important;
 background-color:#ffff00;
 border-radius:5px 5px 5px 5px;
 box-shadow:0px 0px 5px 4px #ffff00;
}
a:visited {
 color:#aaaa00;
}
nav {
 font-size:10pt;
 text-align:center;
}
.header {
 text-align:center !important;
}
h1 {
 font-size:16pt;
 border-top:1pt solid #66aa66;
 padding-top:0.25em;
 margin-top:1em;
 display:inline-block;
}
hr {
 border-style:none;
 width:50%;
 height:0pt;
 border-top:2pt solid #339933;
}
dl {
 display:inline-block;
}
dt {
 padding-top:1em;
 font-size:90%;
}
dt:first-letter {
 font-size:110%;
}
dd {
 padding-left:0.5em;
}
dd .descr {
 margin:0pt;
 margin-left:3em;
 margin-bottom:0.5em;
 padding 0pt;
}
.block {
 margin:1em;
 padding:4em;
 padding-top:1.5em;
 padding-bottom:2em;
 border-top:2pt solid #339933;
 border-bottom:2pt solid #339933;
 border-radius:2em;
 text-align:center;
}
.block * {
 text-align:left;
}
input[type=text],
textarea {
 color:#33dd33;
 background-color:#003f00;
 border:2pt solid #003f00;
 border-radius:0.25em;
}
input[type=text]:focus,
textarea:focus {
 border-top:2pt solid #339933;
 border-bottom:2pt solid #339933;
}
input[type=button],
input[type=submit] {
 color:#33dd33;
 background-color:#003f00;
 border-radius:0.25em;
 border:2pt solid #339933;
}
input[type=button]:hover,
input[type=submit]:hover {
 color:#000f00;
 background-color:#ffff00;
 border:2pt solid #ffff00;
 box-shadow:0px 0px 5px 4px #ffff00;
}
.nav-prev {
 float:left;
 font-size:small;
}
.nav-next {
 float:right;
 font-size:small;
}
@media (max-width:500px) {
 .block {
  padding-left:0em;
  padding-right:0em;
 }
 .nav-prev,
 .nav-next {
  float:none;
 }
}
 
 
    </style>
  </head>
  <body>
    <nav>
      <img style="vertical-align: middle" src="/media/disk.gif">
      <a href="/">Home</a> -
      <a href="/blog/">Blog</a> -
      <a href="/feed.xml">RSS</a> -
      <a href="/hacks/">Hacks</a> -
      <a href="/about">About</a>
    </nav>
    <main>
      <h1>Continued</h1>
      <p><b><time datetime="2013-04-12 00:00:00 &#43;0000">2013-04-12 00:00:00 &#43;0000</time></b></p>
      <p>Things I've learned today in my
<a href="http://r-wos.org/blog/cray-1-disks">little</a>
<a href="http://r-wos.org/blog/cray-1-disks-2">Cray-1</a> adventure:</p>
<p>The Cray-1 seems to use a Data General Eclipse as its control computer.
The Eclipse's OS is called RDOS - and that's also the system
the assembler is running on. (RDOS has the <code>PROG/A/B</code> switch syntax described in
the assembler manual, and also uses the <code>.SV</code> file extension for executables.)</p>
<p>The good news is that there is an Eclipse simulator in <code>simh</code>,
and they also have an <a href="http://simh.trailing-edge.com/software.html">RDOS software kit</a>.</p>
<p>The boot instructions are in the <code>simh</code> manual, but I at least had to
replace the mentions of <code>dp0</code> with <code>dkp0</code> (which is how <code>simh</code> calls
the &quot;moving head disk&quot;):</p>
<pre><code># install simh, then do
$ eclipseemu # at least that's what it's called on debian
sim&gt; att dkp0 zrdos75.dsk
sim&gt; set tti dasher
sim&gt; boot dkp0
FILENAME? (cr)
DATE (mm/dd/yy)? xx/yy/zz
TIME (hh:mm:ss)? hh:mm:ss
R
list/e
</code></pre>
<p>RDOS doesn't seem to have an on-line help system, which makes using it
a bit difficult. But there's <a href="http://bitsavers.informatik.uni-stuttgart.de/pdf/dg/software/rdos/093-000109-01_RDOS_Command_Line_Interpreter.pdf">a PDF manual on bitsavers</a>.</p>
<p>So that all works but it doesn't really bring us that much further.
I guessed that the Cray OS disk might actually be (at least partly)
an RDOS disk, but it isn't:</p>
<pre><code>R
init dp1
DISK FORMAT ERROR:  DP1
</code></pre>
<p>Admittedly, that was a bit naive. The COS disk belongs to a Cray X-MP
and in the <a href="http://bitsavers.informatik.uni-stuttgart.de/pdf/cray/HR-0032_X-MP_MainframeRef_Nov82.pdf">reference manual for <em>that</em> machine</a>
(bitsavers is a gold mine) there's no mention of the Eclipse.</p>
<p>Said manual also contains the following section:</p>
<blockquote>
<p>SYSTEM DEADSTART<br>
[...]
Once the I/O Subsystem is operating, the CRAY X-MP mainframe can be
deadstarted from the Peripheral Expander magnatic tape unit or the DD-20
disk unit.</p>
</blockquote>
<p>The problem is that it refers to the &quot;I/O Subsystem (IOS) Operator's Guide&quot; for
further information - and I couldn't find that guide, yet.</p>
<p>The Cray-1 manual, on the other hand, says that</p>
<blockquote>
<p>COS is loaded into memory and activated through a system startup
procedure performed on the MCU (maintenance control unit). At
startup, permanent datasets are reloaded or re-established on mass
storage.</p>
</blockquote>
<p>Is the Data General Eclipse the MCU? Probably - but probably only for the
Cray-1. What's the MCU-like thing for the Cray X-MP? Is there one?</p>
<p>To sum up, I can't really say that I understand the whole auxiliary
stuff around the mainframe.</p>
<p>So, maybe a better way to move on would be to try to manually extract the COS
image that seems to be on the disk and ignore the whole IOS stuff for the
moment.</p>

    </main>
  </body>
</html>
