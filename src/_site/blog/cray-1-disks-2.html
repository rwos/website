<!doctype html><html lang="en"><head><meta http-equiv="Content-type" content="text/html;charset=UTF-8"><meta name="Viewport" content="width=device-width,initial-scale=1,maximum-scale=1.0"><meta name="Description" content="Homepage of Richard Wossal. Weeks of hacking can save you hours of planning."><title>Playing with Cray-1 Disks, Part 2 | r-wos.org</title> <style>
    * { line-height: 140%; }
    body { margin:15px auto; max-width:40em; padding: 0 1em; }
    body { background: lightcyan; }
    nav, main, aside { background: white; border: 4px ridge black; padding: 8px 1em; margin: 8px 0; }
    nav { background: lightyellow; }
    h1 { text-align: center; color: rebeccapurple; }
    time { background: yellow }
    @-moz-keyframes blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@-webkit-keyframes blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@-o-keyframes blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}blink{display:inline;-webkit-animation:blink 1s steps(1) infinite;-moz-animation:blink 1s steps(1) infinite;-o-animation:blink 1s steps(1) infinite;animation:blink 1s steps(1) infinite}

    </style></head><body> <nav> <img style="vertical-align:middle" src="/media/disk.gif"> <a href="/">Home</a> - <a href="/blog">Blog</a> - <a href="/feed.xml">RSS</a> - <a href="/hacks">Hacks</a> - <a href="/about">About</a> </nav> <main><h1>Playing with Cray-1 Disks, Part 2</h1><p><b><time datetime="2013-04-11">2013-04-11</time></b></p><p><small>(<a href="http://r-wos.org/blog/cray-1-disks">part 1</a>)</small></p><p>Nothing ground-breaking to report, yet - but I’m having a lot of fun so I thought I might as well blog about it.</p><p>Today (well, actually yesterday, it’s 3:30am…) I’ve read the Cray Assembly Language manual I linked last time.</p><p>It not only describes the architecture and instructions of the Cray-1 but also the binary output format of the assembler. Unfortunately, nothing on the two disks actually has that format, as far as I can tell.</p><p>The only thing on the disks that seems to match the manual are the word-sized program names (the Cray-1 has 64-bit words). There’s also no sign of the date and time strings the manual describes. So, what I thought to be an easy vector to extract the machine code doesn’t really work.</p><p>However, others have already worked out the file format for the Cray OS disk (thought it only really works for what is basically the boot section of the disk, but maybe that’s because of data corruptions). I’m planning to write a small disassembler and try and see if I can find at least some code that makes sense.</p><p>I don’t really know what I’m doing, to be honest, which is probably what makes it so much fun. :-)</p><p>The assembler manual contains a lot of interesting stuff I can’t really explain myself with my limited knowledge of 1970s batch computing. For once, the assembler input is described in terms of punch cards, but there’s also a section that describes the invocation of the assembler in what looks like a CP/M like syntax (assuming the ‘/X’ switch syntax comes from CP/M, I only know it from DOS):</p><blockquote><p><code class="highlighter-rouge">CAL Z</code><br/> causes assembly of CAL source file <code class="highlighter-rouge">Z</code>, producing an absolute binary file called <code class="highlighter-rouge">Z.SV</code><br/> <code class="highlighter-rouge">CAL/N/L A</code><br/> causes assembly of file <code class="highlighter-rouge">A</code>, producing as output a listing file <code class="highlighter-rouge">A.LS</code>.</p></blockquote><p>On what kind of machine does the assembler run? Probably not directly on the Cray, I imagine. And if that machine has a command prompt sophisticated enough to specify flags, why doesn’t it also have a simple line editor? How did you compute, strange people from the 70s? I have no clue! (I feel I should know more about the whole thing, this was only 40 years ago…).</p><p>Oh, and the assembler has apparently 5 error messages: <code class="highlighter-rouge">O</code>, <code class="highlighter-rouge">L</code>, <code class="highlighter-rouge">D</code>, <code class="highlighter-rouge">U</code>, and <code class="highlighter-rouge">R</code>. That are three more than <code class="highlighter-rouge">ed(1)</code> has, but still… In some ways, it seems, these were simpler times.</p><p>From the ASCII strings it seems that there’s quite a bit of fun stuff on the Cray OS disk - a source code editor, a complete on-line help system for Cray OS and IOS (which, if I understood it correctly, is basically the Cray’s BIOS, only that it also has its own processor) - oh, and this:</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&amp;*****************************
&amp;* Leading Edge Technologies *
&amp;*****************************
&amp;Preventive Maintenance (TISM):
&amp;Mon 07:15 - 09:15, Tue 17:00 - 21:00, Fri 07:15 - 09:15.
&amp;*************************************
6LTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
&amp;Mon 07:15 - 09:15, Tue 17:00 - 21:00, Fri 07:15 - 09:15.
&amp;******************************************************
&amp;* This is M-M-Max MP, here ... PARTY, PARTY, PARTY ! *
&amp;******************************************************
%*****************************************************
%* This is M-M-Max MP, here ... Hey, go home ... NOW *
%*****************************************************
%*****************************************************
%* This is M-M-Max MP, here ... sorry, no NEWS today *
%*****************************************************
</code></pre></div></div><p>Happy Hacking and good night!</p><hr><h2>See Also</h2><p>Previously: <a href="/blog/cray-1-disks">Playing with Cray-1 Disks</a></p><p>Next up: <a href="/blog/cray-1-disks-3">Continued</a></p><p> The machine thinks that the Web-Log entries <a href="/blog/cray-1-disks-2">Playing with Cray-1 Disks, Part 2</a>, <a href="/blog/ludum-dare-26-postmortem">26th Ludum Dare - Postmortem</a>, and <a href="/blog/purely-functional-games">Purely Functional Games</a> might be related to the topic so eloquently discussed above. The machine is sometimes right.</p></main></body></html>